<script>
$( document ).ready(function() {
    //console.log( "autocomplete plugin ready!" );

    $(".panel").geocomplete({
    	map: "#map_canvas",
    	location: "<%= @residential_unit.building.formatted_street_address %>" ,
    	details: ".details"
    }).bind("geocode:result", function(event, result){
        //console.log(result);
    }).bind("geocode:error", function(event, result){
        //console.log("[ERROR]: " + result);
    });

});
</script>

<% provide(:title, 'Office') %>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
  	<div class="row">
  		<div class="col-md">
	  		<h1 class="page-header">
	  			<%= number_to_currency(@residential_unit.rent, {precision: 0}) %> - 
	  			<%= @residential_unit.building.formatted_street_address %>, <%= @residential_unit.building_unit %></h1>
	  			
	  			<p>
	  			<% if @residential_unit.status == "active" %>
            <span class="green">On Market</span>
          <% elsif @residential_unit.status == "pending" %>
            <span class="dark-orange">Pending Application</span>
          <% elsif @residential_unit.status == "off" %>
            <span class="grey">Off Market</span>
          <% end %>

          | <%= link_to 'Edit', edit_residential_unit_path(@residential_unit) %>
          | <%= link_to 'View all', residential_units_path %>
          </p>
	  	</div>
    </div>
    <div class="row">
  		<div class="col-md-12">

  			<div class="panel panel-default">
				  <div class="panel-heading">
				    <h3 class="panel-title">Unit Details</h3>
				  </div>
				  <div class="panel-body">

				  	<div id="map_canvas"></div>
				  	<br />
				    <p>
				    	<strong>Building:</strong>
  						<%= @residential_unit.building.formatted_street_address %>
						</p>
						<p>
							<strong>Access Info:</strong>
							<%= @residential_unit.access_info %>
						</p>
						<p>
							<strong>Beds/Baths:</strong>
							<%= @residential_unit.beds %> / <%= @residential_unit.baths %>
						</p>
						<p>
							<strong>Lease Duration:</strong>
							<%= @residential_unit.lease_duration.titleize %>
						</p>
						<p>
							<strong>Building Notes:</strong>
							<%= @residential_unit.building.notes %>
						</p>
						<p>
							<strong>Unit Notes:</strong>
							<%= @residential_unit.notes %>
						</p>
					</div>
				</div><!-- end panel -->


  		</div>
  	</div>
	</div>
</div>
  

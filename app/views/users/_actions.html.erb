
<!-- helps us track if we should draw a dividing "|" -->
<% @prev_link = false %>

<% if current_user == user || current_user.is_company_admin? %>
	<%= link_to 'Edit', edit_user_path(user) %> | 
  
  <%= link_to 'Delete', user, method: :delete, data: { confirm: 'Are you sure?' } %>
  <% @prev_link = true %>
<% end %>

<% if current_user.can_manage_team(user) %>
	<% if @prev_link %> | <% end %>
  <%= link_to 'Manage team', user_subordinates_path(user) %><br />
  <% @prev_link = true %>
<% end %>


<% if current_user.can_approve(user) %>
	<% if !user.approved? %>
		<% if @prev_link %> | <% end %>
		<%= link_to 'Approve', admin_approve_user_path(user), method: :patch, data: { confirm: 'Are you sure you want to approve this person?' } %>
	<% else %>
		<% if @prev_link %> | <% end %>
		<%= link_to 'Unapprove', admin_unapprove_user_path(user), method: :patch, data: { confirm: 'Are you sure you want to unapprove this person?' } %>
	<% end %>
	<% @prev_link = true %>
<% end %>


<% if current_user.can_kick(user) %>
	<% if @prev_link %> | <% end %>
	<%= link_to 'Kick', admin_approve_user_path(user), method: :patch, data: { confirm: 'Are you sure you want to kick this person off their team?' } %>
<% end %>